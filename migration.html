<!DOCTYPE html>
<html lang="en" data-accent-color="blue" data-content_root="./">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Migration Guide - mxmake</title><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Generate files using templates" href="templates.html" /><link rel="prev" title="Preseeds" href="preseeds.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="_static/shibuya.css?v=44020203" />
    <link media="print" rel="stylesheet" type="text/css" href="_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=6fa5204e" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Migration Guide"/>
    <meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="index.html">
      <img class="light-logo" src="_static/mxmake-logo.svg" alt="mxmake" height="28" loading="lazy" />
      <img class="dark-logo" src="_static/mxmake-logo.svg" alt="mxmake" height="28" loading="lazy" />
      <strong>mxmake</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials">
  <a href="https://github.com/mxstack/mxmake" aria-label="GitHub">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </a><a href="https://pypi.org/project/mxmake" aria-label="PyPI">
    <iconify-icon icon="simple-icons:pypi"></iconify-icon>
  </a>
</div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2"></span>
          <span class="hamburger_3"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics.html">Topics and Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="preseeds.html">Preseeds</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Generate files using templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending mxmake</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Domain dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="make.html">A short primer on make</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#version-2-0-1-unreleased">Version 2.0.1 (unreleased)</a><ul>
<li><a class="reference internal" href="#added-monorepo-support">Added: Monorepo Support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-0-0-2025-10-24">Version 2.0.0 (2025-10-24)</a><ul>
<li><a class="reference internal" href="#dropped-python-3-9-support">Dropped: Python 3.9 Support</a></li>
<li><a class="reference internal" href="#removed-mxenv-uv-global-setting">Removed: MXENV_UV_GLOBAL Setting</a></li>
<li><a class="reference internal" href="#changed-sources-target-implementation">Changed: SOURCES_TARGET Implementation</a></li>
<li><a class="reference internal" href="#added-uv-python-setting">Added: UV_PYTHON Setting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-3-0-2025-09-03">Version 1.3.0 (2025-09-03)</a></li>
<li><a class="reference internal" href="#version-1-2-2-2025-06-30">Version 1.2.2 (2025-06-30)</a></li>
<li><a class="reference internal" href="#version-1-2-1-2025-06-23">Version 1.2.1 (2025-06-23)</a></li>
<li><a class="reference internal" href="#version-1-2-0-2025-06-04">Version 1.2.0 (2025-06-04)</a></li>
<li><a class="reference internal" href="#version-1-1-0-2025-03-20">Version 1.1.0 (2025-03-20)</a></li>
<li><a class="reference internal" href="#version-1-0-2025-02-11">Version 1.0 (2025-02-11)</a></li>
<li><a class="reference internal" href="#version-1-0a8-2024-10-24">Version 1.0a8 (2024-10-24)</a></li>
<li><a class="reference internal" href="#version-1-0a7-2024-10-24">Version 1.0a7 (2024-10-24)</a><ul>
<li><a class="reference internal" href="#renamed-npm-domain-to-nodejs">Renamed: npm Domain to nodejs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-0a6-2024-08-02">Version 1.0a6 (2024-08-02)</a><ul>
<li><a class="reference internal" href="#dropped-python-3-8-support">Dropped: Python 3.8 Support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-0a5-2024-06-07">Version 1.0a5 (2024-06-07)</a></li>
<li><a class="reference internal" href="#version-1-0a4-2024-03-12">Version 1.0a4 (2024-03-12)</a><ul>
<li><a class="reference internal" href="#changed-default-venv-folder">Changed: Default venv Folder</a></li>
<li><a class="reference internal" href="#renamed-python-bin-to-primary-python">Renamed: PYTHON_BIN to PRIMARY_PYTHON</a></li>
<li><a class="reference internal" href="#removed-mxenv-path">Removed: MXENV_PATH</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-0a3-2024-02-06">Version 1.0a3 (2024-02-06)</a></li>
<li><a class="reference internal" href="#version-1-0a2-2023-07-07">Version 1.0a2 (2023-07-07)</a></li>
<li><a class="reference internal" href="#version-1-0a1-2023-05-05">Version 1.0a1 (2023-05-05)</a><ul>
<li><a class="reference internal" href="#semantic-overhaul-terminology-changes">Semantic Overhaul: Terminology Changes</a></li>
<li><a class="reference internal" href="#renamed-multiple-domains">Renamed: Multiple Domains</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-1-2022-05-19">Version 0.1 (2022-05-19)</a></li>
<li><a class="reference internal" href="#general-migration-tips">General Migration Tips</a><ul>
<li><a class="reference internal" href="#before-upgrading">Before Upgrading</a></li>
<li><a class="reference internal" href="#upgrade-process">Upgrade Process</a></li>
<li><a class="reference internal" href="#rolling-back">Rolling Back</a></li>
<li><a class="reference internal" href="#getting-help">Getting Help</a></li>
</ul>
</li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">mxmake</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Migration Guide</strong>
        <meta itemprop="position" content="2" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="relative min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
  <article class="yue" role="main">
          <section id="migration-guide">
<h1>Migration Guide<a class="headerlink" href="#migration-guide" title="Link to this heading">¶</a></h1>
<p>This guide documents breaking changes between mxmake versions and how to migrate your projects.</p>
<section id="version-2-0-1-unreleased">
<h2>Version 2.0.1 (unreleased)<a class="headerlink" href="#version-2-0-1-unreleased" title="Link to this heading">¶</a></h2>
<section id="added-monorepo-support">
<h3>Added: Monorepo Support<a class="headerlink" href="#added-monorepo-support" title="Link to this heading">¶</a></h3>
<p><strong>New Feature</strong>: Python projects can now be located in a subdirectory relative to the Makefile.</p>
<p><strong>Purpose</strong>: Support monorepo setups with multiple applications (e.g., frontend + backend) in one repository.</p>
<p><strong>New Setting</strong>: <code class="docutils literal notranslate"><span class="pre">PROJECT_PATH_PYTHON</span></code> in the <code class="docutils literal notranslate"><span class="pre">core.base</span></code> domain.</p>
<p><strong>Example Configuration</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c"># In your Makefile</span>
</span><span data-line="2"><span class="nv">PROJECT_PATH_PYTHON</span><span class="o">?=</span>backend
</span></pre></div>
</div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># In your mx.ini (specify full paths from repo root)</span>
</span><span data-line="2"><span class="k">[settings]</span>
</span><span data-line="3"><span class="na">mxmake-test-path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">backend/tests</span>
</span><span data-line="4"><span class="na">mxmake-source-path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">backend/src</span>
</span></pre></div>
</div>
<p><strong>Setup Methods</strong>:</p>
<ol class="arabic">
<li><p><strong>Auto-detection</strong> (recommended):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span data-line="1">uvx<span class="w"> </span>mxmake<span class="w"> </span>init
</span><span data-line="2"><span class="c1"># Prompts if pyproject.toml found in subdirectory</span>
</span></pre></div>
</div>
</li>
<li><p><strong>CLI flag</strong>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span data-line="1">uvx<span class="w"> </span>mxmake<span class="w"> </span>init<span class="w"> </span>--project-path-python<span class="w"> </span>backend
</span></pre></div>
</div>
</li>
<li><p><strong>Preseed file</strong>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nt">topics</span><span class="p">:</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">core</span><span class="p">:</span>
</span><span data-line="3"><span class="w">    </span><span class="nt">base</span><span class="p">:</span>
</span><span data-line="4"><span class="w">      </span><span class="nt">PROJECT_PATH_PYTHON</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">backend</span>
</span></pre></div>
</div>
</li>
</ol>
<p><strong>What Changes</strong>:</p>
<ul class="simple">
<li><p>Makefile references: <code class="docutils literal notranslate"><span class="pre">backend/pyproject.toml</span></code> instead of <code class="docutils literal notranslate"><span class="pre">./pyproject.toml</span></code></p></li>
<li><p>mx.ini paths: Specify full paths from repository root (e.g., <code class="docutils literal notranslate"><span class="pre">mxmake-test-path</span> <span class="pre">=</span> <span class="pre">backend/tests</span></code>)</p></li>
<li><p>GitHub Actions: Cache uses <code class="docutils literal notranslate"><span class="pre">backend/pyproject.toml</span></code> for dependency tracking</p></li>
</ul>
<p><strong>Migration</strong>: None required. This is an opt-in feature with no impact on existing projects.</p>
<p><strong>See Also</strong>: <a class="reference internal" href="#getting-started.html#monorepo-support"><span class="xref myst">Monorepo Support</span></a> in Getting Started guide.</p>
</section>
</section>
<section id="version-2-0-0-2025-10-24">
<h2>Version 2.0.0 (2025-10-24)<a class="headerlink" href="#version-2-0-0-2025-10-24" title="Link to this heading">¶</a></h2>
<section id="dropped-python-3-9-support">
<h3>Dropped: Python 3.9 Support<a class="headerlink" href="#dropped-python-3-9-support" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Change</strong>: Minimum Python version increased from 3.9 to 3.10.</p>
<p><strong>Migration</strong>:</p>
<ol class="arabic">
<li><p>Ensure your system has Python 3.10 or later installed</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> to regenerate Makefile (automatically updates <code class="docutils literal notranslate"><span class="pre">PYTHON_MIN_VERSION</span></code> to 3.10)</p></li>
<li><p>If needed, customize Python version settings:</p>
<ul>
<li><p><strong>Using UV</strong>: Set <code class="docutils literal notranslate"><span class="pre">UV_PYTHON</span></code> to desired version:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">UV_PYTHON</span><span class="o">?=</span><span class="m">3</span>.10<span class="w">  </span><span class="c1"># or 3.11, 3.12, 3.13, 3.14</span>
</span></pre></div>
</div>
</li>
<li><p><strong>Using pip</strong>: Ensure <code class="docutils literal notranslate"><span class="pre">PRIMARY_PYTHON</span></code> points to Python 3.10+:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">PRIMARY_PYTHON</span><span class="o">?=</span>python3.10
</span></pre></div>
</div>
</li>
</ul>
</li>
</ol>
</section>
<section id="removed-mxenv-uv-global-setting">
<h3>Removed: MXENV_UV_GLOBAL Setting<a class="headerlink" href="#removed-mxenv-uv-global-setting" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Change</strong>: The <code class="docutils literal notranslate"><span class="pre">MXENV_UV_GLOBAL</span></code> setting has been removed. UV is now automatically detected.</p>
<p><strong>Before (1.x)</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">PYTHON_PACKAGE_INSTALLER</span><span class="o">?=</span>uv
</span><span data-line="2"><span class="nv">MXENV_UV_GLOBAL</span><span class="o">?=</span><span class="nb">true</span>
</span></pre></div>
</div>
<p><strong>After (2.0+)</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">PYTHON_PACKAGE_INSTALLER</span><span class="o">?=</span>uv
</span><span data-line="2"><span class="nv">UV_PYTHON</span><span class="o">?=</span><span class="m">3</span>.14<span class="w">  </span><span class="c1"># Optional: specify Python version</span>
</span></pre></div>
</div>
<p><strong>Migration</strong>:</p>
<ol class="arabic">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> (automatically removes <code class="docutils literal notranslate"><span class="pre">MXENV_UV_GLOBAL</span></code> setting)</p></li>
<li><p>UV will be automatically detected if installed globally</p></li>
<li><p>If needed, add <code class="docutils literal notranslate"><span class="pre">UV_PYTHON</span></code> setting to specify Python version:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">UV_PYTHON</span><span class="o">?=</span><span class="m">3</span>.14
</span></pre></div>
</div>
</li>
<li><p>To force local UV installation, ensure UV is not in your PATH before running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code></p></li>
</ol>
</section>
<section id="changed-sources-target-implementation">
<h3>Changed: SOURCES_TARGET Implementation<a class="headerlink" href="#changed-sources-target-implementation" title="Link to this heading">¶</a></h3>
<p><strong>Critical Fix</strong>: <code class="docutils literal notranslate"><span class="pre">SOURCES_TARGET</span></code> incorrectly used mxdev’s <code class="docutils literal notranslate"><span class="pre">-o</span></code> (offline) flag instead of <code class="docutils literal notranslate"><span class="pre">-f</span></code> (no fetch).</p>
<p><strong>Impact</strong>: This affects projects using mxdev with source checkouts. The <code class="docutils literal notranslate"><span class="pre">-o</span></code> flag had a bug (fixed in mxdev 5.0).</p>
<p><strong>Migration</strong>:</p>
<ol class="arabic simple">
<li><p>Update mxdev to version 5.0 or later: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-U</span> <span class="pre">mxdev&gt;=5</span></code></p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> (automatically regenerates Makefile with correct <code class="docutils literal notranslate"><span class="pre">-f</span></code> flag)</p></li>
</ol>
</section>
<section id="added-uv-python-setting">
<h3>Added: UV_PYTHON Setting<a class="headerlink" href="#added-uv-python-setting" title="Link to this heading">¶</a></h3>
<p><strong>New Feature</strong>: Introduced <code class="docutils literal notranslate"><span class="pre">UV_PYTHON</span></code> setting for semantic clarity.</p>
<p><strong>Purpose</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PRIMARY_PYTHON</span></code>: System interpreter path (e.g., <code class="docutils literal notranslate"><span class="pre">python3</span></code>, <code class="docutils literal notranslate"><span class="pre">/usr/bin/python3.11</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UV_PYTHON</span></code>: Python version spec for UV (e.g., <code class="docutils literal notranslate"><span class="pre">3.14</span></code>, <code class="docutils literal notranslate"><span class="pre">cpython&#64;3.14</span></code>)</p></li>
</ul>
<p><strong>Migration</strong> (optional but recommended):</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c"># Old approach (still works)</span>
</span><span data-line="2"><span class="nv">PYTHON_PACKAGE_INSTALLER</span><span class="o">?=</span>uv
</span><span data-line="3"><span class="nv">PRIMARY_PYTHON</span><span class="o">?=</span><span class="m">3</span>.14
</span><span data-line="4">
</span><span data-line="5"><span class="c"># New approach (clearer semantics)</span>
</span><span data-line="6"><span class="nv">PYTHON_PACKAGE_INSTALLER</span><span class="o">?=</span>uv
</span><span data-line="7"><span class="nv">UV_PYTHON</span><span class="o">?=</span><span class="m">3</span>.14
</span></pre></div>
</div>
</section>
</section>
<section id="version-1-3-0-2025-09-03">
<h2>Version 1.3.0 (2025-09-03)<a class="headerlink" href="#version-1-3-0-2025-09-03" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong></p>
</section>
<section id="version-1-2-2-2025-06-30">
<h2>Version 1.2.2 (2025-06-30)<a class="headerlink" href="#version-1-2-2-2025-06-30" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong></p>
</section>
<section id="version-1-2-1-2025-06-23">
<h2>Version 1.2.1 (2025-06-23)<a class="headerlink" href="#version-1-2-1-2025-06-23" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong></p>
</section>
<section id="version-1-2-0-2025-06-04">
<h2>Version 1.2.0 (2025-06-04)<a class="headerlink" href="#version-1-2-0-2025-06-04" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong></p>
</section>
<section id="version-1-1-0-2025-03-20">
<h2>Version 1.1.0 (2025-03-20)<a class="headerlink" href="#version-1-1-0-2025-03-20" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong></p>
</section>
<section id="version-1-0-2025-02-11">
<h2>Version 1.0 (2025-02-11)<a class="headerlink" href="#version-1-0-2025-02-11" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong></p>
</section>
<section id="version-1-0a8-2024-10-24">
<h2>Version 1.0a8 (2024-10-24)<a class="headerlink" href="#version-1-0a8-2024-10-24" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong></p>
</section>
<section id="version-1-0a7-2024-10-24">
<h2>Version 1.0a7 (2024-10-24)<a class="headerlink" href="#version-1-0a7-2024-10-24" title="Link to this heading">¶</a></h2>
<section id="renamed-npm-domain-to-nodejs">
<h3>Renamed: npm Domain to nodejs<a class="headerlink" href="#renamed-npm-domain-to-nodejs" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Change</strong>: The <code class="docutils literal notranslate"><span class="pre">npm</span></code> domain was renamed to <code class="docutils literal notranslate"><span class="pre">nodejs</span></code> to better reflect its purpose (Node.js tooling, supporting both npm and pnpm).</p>
<p><strong>Before</strong>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># preseed.yaml or mx.ini</span>
</span><span data-line="2"><span class="nt">topics</span><span class="p">:</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">js</span><span class="p">:</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">npm</span><span class="p">:</span>
</span></pre></div>
</div>
<p><strong>After</strong>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># preseed.yaml or mx.ini</span>
</span><span data-line="2"><span class="nt">topics</span><span class="p">:</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">js</span><span class="p">:</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">nodejs</span><span class="p">:</span>
</span></pre></div>
</div>
<p><strong>Migration</strong>:</p>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> (automatically uses new <code class="docutils literal notranslate"><span class="pre">nodejs</span></code> domain name)</p></li>
<li><p>If using preseed files, update them to use <code class="docutils literal notranslate"><span class="pre">nodejs</span></code> instead of <code class="docutils literal notranslate"><span class="pre">npm</span></code></p></li>
<li><p>The domain now supports both npm and pnpm package managers</p></li>
</ol>
</section>
</section>
<section id="version-1-0a6-2024-08-02">
<h2>Version 1.0a6 (2024-08-02)<a class="headerlink" href="#version-1-0a6-2024-08-02" title="Link to this heading">¶</a></h2>
<section id="dropped-python-3-8-support">
<h3>Dropped: Python 3.8 Support<a class="headerlink" href="#dropped-python-3-8-support" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Change</strong>: Minimum Python version increased from 3.8 to 3.9.</p>
<p><strong>Migration</strong>:</p>
<ol class="arabic simple">
<li><p>Ensure your project uses Python 3.9 or later</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> (automatically updates <code class="docutils literal notranslate"><span class="pre">PYTHON_MIN_VERSION</span></code> to 3.9)</p></li>
</ol>
<p><strong>Note</strong>: This change was superseded by version 2.0.0 which requires Python 3.10+.</p>
</section>
</section>
<section id="version-1-0a5-2024-06-07">
<h2>Version 1.0a5 (2024-06-07)<a class="headerlink" href="#version-1-0a5-2024-06-07" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong></p>
</section>
<section id="version-1-0a4-2024-03-12">
<h2>Version 1.0a4 (2024-03-12)<a class="headerlink" href="#version-1-0a4-2024-03-12" title="Link to this heading">¶</a></h2>
<section id="changed-default-venv-folder">
<h3>Changed: Default venv Folder<a class="headerlink" href="#changed-default-venv-folder" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Change</strong>: Default virtual environment folder changed from <code class="docutils literal notranslate"><span class="pre">venv</span></code> to <code class="docutils literal notranslate"><span class="pre">.venv</span></code>.</p>
<p><strong>Before</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">VENV_FOLDER</span><span class="o">?=</span>venv
</span></pre></div>
</div>
<p><strong>After</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">VENV_FOLDER</span><span class="o">?=</span>.venv
</span></pre></div>
</div>
<p><strong>Migration</strong>:</p>
<ol class="arabic">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> (automatically updates default to <code class="docutils literal notranslate"><span class="pre">.venv</span></code>)</p></li>
<li><p>Choose one option:</p>
<ul class="simple">
<li><p><strong>Option A</strong> (Use new default): Delete old <code class="docutils literal notranslate"><span class="pre">venv</span></code> folder, run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> to create <code class="docutils literal notranslate"><span class="pre">.venv</span></code></p></li>
<li><p><strong>Option B</strong> (Keep old folder): Edit Makefile to set <code class="docutils literal notranslate"><span class="pre">VENV_FOLDER=venv</span></code></p></li>
</ul>
</li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>:</p>
<div class="highlight-gitignore notranslate"><div class="highlight"><pre><span></span><span data-line="1"># Old
</span><span data-line="2">venv/
</span><span data-line="3">
</span><span data-line="4"># New
</span><span data-line="5">.venv/
</span></pre></div>
</div>
</li>
</ol>
</section>
<section id="renamed-python-bin-to-primary-python">
<h3>Renamed: PYTHON_BIN to PRIMARY_PYTHON<a class="headerlink" href="#renamed-python-bin-to-primary-python" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Change</strong>: <code class="docutils literal notranslate"><span class="pre">PYTHON_BIN</span></code> setting renamed to <code class="docutils literal notranslate"><span class="pre">PRIMARY_PYTHON</span></code>.</p>
<p><strong>Before</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">PYTHON_BIN</span><span class="o">?=</span>python3
</span></pre></div>
</div>
<p><strong>After</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nv">PRIMARY_PYTHON</span><span class="o">?=</span>python3
</span></pre></div>
</div>
<p><strong>Migration</strong>:</p>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> (automatically renames <code class="docutils literal notranslate"><span class="pre">PYTHON_BIN</span></code> to <code class="docutils literal notranslate"><span class="pre">PRIMARY_PYTHON</span></code>)</p></li>
<li><p>If you have custom scripts referencing <code class="docutils literal notranslate"><span class="pre">PYTHON_BIN</span></code>, update them to use <code class="docutils literal notranslate"><span class="pre">PRIMARY_PYTHON</span></code></p></li>
</ol>
</section>
<section id="removed-mxenv-path">
<h3>Removed: MXENV_PATH<a class="headerlink" href="#removed-mxenv-path" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Change</strong>: <code class="docutils literal notranslate"><span class="pre">MXENV_PATH</span></code> variable has been removed. Use <code class="docutils literal notranslate"><span class="pre">$(MXENV_PYTHON)</span></code> directly.</p>
<p><strong>Before</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">$(</span><span class="nv">MXENV_PATH</span><span class="k">)</span><span class="err">pip</span><span class="w"> </span><span class="err">install</span><span class="w"> </span><span class="err">something</span>
</span><span data-line="2"><span class="k">$(</span><span class="nv">MXENV_PATH</span><span class="k">)</span><span class="err">pytest</span><span class="w"> </span><span class="err">tests/</span>
</span></pre></div>
</div>
<p><strong>After</strong>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">$(</span><span class="nv">MXENV_PYTHON</span><span class="k">)</span><span class="w"> </span><span class="err">-m</span><span class="w"> </span><span class="err">pip</span><span class="w"> </span><span class="err">install</span><span class="w"> </span><span class="err">something</span>
</span><span data-line="2"><span class="k">$(</span><span class="nv">MXENV_PYTHON</span><span class="k">)</span><span class="w"> </span><span class="err">-m</span><span class="w"> </span><span class="err">pytest</span><span class="w"> </span><span class="err">tests/</span>
</span></pre></div>
</div>
<p><strong>Migration</strong>:</p>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> (automatically removes <code class="docutils literal notranslate"><span class="pre">MXENV_PATH</span></code>)</p></li>
<li><p>If you have custom Makefile targets using <code class="docutils literal notranslate"><span class="pre">MXENV_PATH</span></code>, update them manually:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$(MXENV_PATH)pip</span></code> → <code class="docutils literal notranslate"><span class="pre">$(MXENV_PYTHON)</span> <span class="pre">-m</span> <span class="pre">pip</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$(MXENV_PATH)pytest</span></code> → <code class="docutils literal notranslate"><span class="pre">$(MXENV_PYTHON)</span> <span class="pre">-m</span> <span class="pre">pytest</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$(MXENV_PATH)black</span></code> → <code class="docutils literal notranslate"><span class="pre">$(MXENV_PYTHON)</span> <span class="pre">-m</span> <span class="pre">black</span></code></p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="version-1-0a3-2024-02-06">
<h2>Version 1.0a3 (2024-02-06)<a class="headerlink" href="#version-1-0a3-2024-02-06" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong> (added typecheck target, CI config generation, ruff domain)</p>
</section>
<section id="version-1-0a2-2023-07-07">
<h2>Version 1.0a2 (2023-07-07)<a class="headerlink" href="#version-1-0a2-2023-07-07" title="Link to this heading">¶</a></h2>
<p><strong>No breaking changes</strong> (fixes and pip.conf support)</p>
</section>
<section id="version-1-0a1-2023-05-05">
<h2>Version 1.0a1 (2023-05-05)<a class="headerlink" href="#version-1-0a1-2023-05-05" title="Link to this heading">¶</a></h2>
<section id="semantic-overhaul-terminology-changes">
<h3>Semantic Overhaul: Terminology Changes<a class="headerlink" href="#semantic-overhaul-terminology-changes" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Change</strong>: Major terminology changes in custom domain development.</p>
<p><strong>Changes</strong>:</p>
<ul class="simple">
<li><p>“Domains” are now called “Topics”</p></li>
<li><p>“Makefile” is now called “Domain”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_SENTINEL</span></code> variables renamed to <code class="docutils literal notranslate"><span class="pre">_TARGET</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.sentinels</span></code> folder renamed to <code class="docutils literal notranslate"><span class="pre">.mxmake-sentinels</span></code></p></li>
</ul>
<p><strong>Impact</strong>: Only affects custom domain/plugin authors, not regular users.</p>
<p><strong>Migration</strong> (for plugin developers):</p>
<ul>
<li><p>Update custom domain files to use new terminology</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">*_SENTINEL</span></code> variables to <code class="docutils literal notranslate"><span class="pre">*_TARGET</span></code>:</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c"># Before</span>
</span><span data-line="2"><span class="nv">MYDOM_SENTINEL</span><span class="o">?=</span>.sentinels/mydom
</span><span data-line="3">
</span><span data-line="4"><span class="c"># After</span>
</span><span data-line="5"><span class="nv">MYDOM_TARGET</span><span class="o">?=</span>.mxmake-sentinels/mydom
</span></pre></div>
</div>
</li>
</ul>
</section>
<section id="renamed-multiple-domains">
<h3>Renamed: Multiple Domains<a class="headerlink" href="#renamed-multiple-domains" title="Link to this heading">¶</a></h3>
<p><strong>Breaking Changes</strong>: Several domains renamed for clarity.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Old Name</p></th>
<th class="head"><p>New Name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">install</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">packages</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">files</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mxfiles</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">venv</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mxenv</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">docs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sphinx</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Migration</strong>:</p>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mxmake</span> <span class="pre">update</span></code> (automatically uses new domain names)</p></li>
<li><p>If using preseed files with old domain names, update them to use new names</p></li>
</ol>
</section>
</section>
<section id="version-0-1-2022-05-19">
<h2>Version 0.1 (2022-05-19)<a class="headerlink" href="#version-0-1-2022-05-19" title="Link to this heading">¶</a></h2>
<p>Initial release - no migration needed.</p>
</section>
<hr class="docutils" />
<section id="general-migration-tips">
<h2>General Migration Tips<a class="headerlink" href="#general-migration-tips" title="Link to this heading">¶</a></h2>
<section id="before-upgrading">
<h3>Before Upgrading<a class="headerlink" href="#before-upgrading" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p><strong>Read Release Notes</strong>: Check <a class="reference external" href="https://github.com/mxstack/mxmake/blob/main/CHANGES.md">CHANGES.md</a> for your target version</p></li>
<li><p><strong>Backup</strong>: Commit your current Makefile to version control</p></li>
<li><p><strong>Test</strong>: If possible, test the upgrade in a separate branch</p></li>
</ol>
</section>
<section id="upgrade-process">
<h3>Upgrade Process<a class="headerlink" href="#upgrade-process" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p><strong>Upgrade mxmake</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>mxmake
</span><span data-line="2"><span class="c1"># or with UV:</span>
</span><span data-line="3">uv<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>mxmake
</span></pre></div>
</div>
</li>
<li><p><strong>Update Makefile</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">mxmake<span class="w"> </span>update
</span></pre></div>
</div>
</li>
<li><p><strong>Review Changes</strong>: Check the diff to ensure settings are preserved</p></li>
<li><p><strong>Test</strong>: Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> and <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code> to verify functionality</p></li>
</ol>
</section>
<section id="rolling-back">
<h3>Rolling Back<a class="headerlink" href="#rolling-back" title="Link to this heading">¶</a></h3>
<p>If you encounter issues:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">git<span class="w"> </span>checkout<span class="w"> </span>Makefile<span class="w">  </span><span class="c1"># Restore previous version</span>
</span><span data-line="2">pip<span class="w"> </span>install<span class="w"> </span><span class="nv">mxmake</span><span class="o">==</span>&lt;previous-version&gt;<span class="w">  </span><span class="c1"># Downgrade mxmake</span>
</span></pre></div>
</div>
</section>
<section id="getting-help">
<h3>Getting Help<a class="headerlink" href="#getting-help" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Documentation</strong>: https://mxmake.readthedocs.io</p></li>
<li><p><strong>Issues</strong>: https://github.com/mxstack/mxmake/issues</p></li>
<li><p><strong>Changelog</strong>: https://github.com/mxstack/mxmake/blob/main/CHANGES.md</p></li>
</ul>
</section>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="preseeds.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Preseeds</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="templates.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Generate files using templates</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2022-2024, mxstack Contributors</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/mxstack/mxmake" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="_static/documentation_options.js?v=f2a433a1"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="_static/shibuya.js?v=cac61aee"></script></body>
</html>