##############################################################################
# THIS FILE IS GENERATED BY MXMAKE
#
# DOMAINS:
{% for fqn in fqns %}
#: {{ fqn }}
{% endfor %}
#
# SETTINGS (ALL CHANGES MADE BELOW SETTINGS WILL BE LOST)
##############################################################################

{% for domain_settings in settings %}
## {{ domain_settings.fqn }}

{% for setting in domain_settings.settings %}
{% for line in setting.description %}
# {{ line }}
{% endfor %}
{% if setting.default %}
# Default: {{ setting.default }}
{% else %}
# No default value.
{% endif %}
{{ setting.name }}?={{ setting.value }}

{% endfor -%}
{% endfor -%}
##############################################################################
# END SETTINGS - DO NOT EDIT BELOW THIS LINE
##############################################################################

INSTALL_TARGETS?=
DIRTY_TARGETS?=
CLEAN_TARGETS?=
PURGE_TARGETS?=
{% if additional_targets["qa"] %}
CHECK_TARGETS?=
TYPECHECK_TARGETS?=
FORMAT_TARGETS?=
{% endif %}
{{ sections.read() }}
-include $(INCLUDE_MAKEFILE)

##############################################################################
# Default targets
##############################################################################

INSTALL_TARGET:=$(SENTINEL_FOLDER)/install.sentinel
$(INSTALL_TARGET): $(INSTALL_TARGETS)
	@touch $(INSTALL_TARGET)

.PHONY: install
install: $(INSTALL_TARGET)
	@touch $(INSTALL_TARGET)

.PHONY: run
run: $(RUN_TARGET)

.PHONY: deploy
deploy: $(DEPLOY_TARGETS)

.PHONY: dirty
dirty: $(DIRTY_TARGETS)
	@rm -f $(INSTALL_TARGET)

.PHONY: clean
clean: dirty $(CLEAN_TARGETS)
	@rm -rf $(CLEAN_TARGETS) $(MXMAKE_FOLDER) $(CLEAN_FS)

.PHONY: purge
purge: clean $(PURGE_TARGETS)

.PHONY: runtime-clean
runtime-clean:
	@echo "Remove runtime artifacts, like byte-code and caches."
	@find . -name '*.py[c|o]' -delete
	@find . -name '*~' -exec rm -f {} +
	@find . -name '__pycache__' -exec rm -fr {} +

{% if additional_targets["qa"] %}
.PHONY: check
check: $(CHECK_TARGETS)

.PHONY: typecheck
typecheck: $(TYPECHECK_TARGETS)

.PHONY: format
format: $(FORMAT_TARGETS)
{% endif %}
